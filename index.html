
<!doctype html>
<html lang="km">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ពិធីភ្ជាប់ពាក្យ – MOUE TITH & PUN RAKSMEY</title>
<meta name="description" content="សូមអញ្ជើញចូលរួមពិធីភ្ជាប់ពាក្យ (Engagement) របស់ TITH និង RAKSMEY – ពេលវេលា និងទីតាំងនៅខាងក្នុង។" />

<!-- Khmer & Latin fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Khmer:wght@400;600;700&family=Kantumruy+Pro:wght@300;400;600&family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Moul&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Moul&family=Suwannaphum:wght@100;300;400;700;900&display=swap" rel="stylesheet">
<style>
:root{
  --bg: #0f1115;
  --ink:#e9ecf1;
  --muted:#b8bdc9;
  --accent:#9fe6d6;
  --stroke:#272b36;
  --radius: 16px;
  --shadow: 0 10px 30px rgba(0,0,0,.35);

  /* Card max width for desktops; scales down on phones */
  --max-card: 860px;
  --gutter: clamp(14px, 4vw, 32px);

  /* Background image for the card */
  --card-bg: url("https://raw.githubusercontent.com/dramasabay/wedding/14f23dc6573cea8d4991aa5b8ee3a02bb8ec48c6/khmer-frame.webp");

  /* Default ratio (will be replaced by JS once the image loads) */
  --bg-w: 768;
  --bg-h: 1075;

  /* Overlay to keep text readable on bright gold */
  --overlay: rgba(15,17,21,.28);
}

/* Page background */
html,body{height:100%}
*{box-sizing:border-box}
body{
  margin:0; color:var(--ink);
  background:
    radial-gradient(1200px 750px at 10% -10%, #20353b66 0%, transparent 60%),
    radial-gradient(920px 620px at 110% 0%, #2c1e4366 0%, transparent 60%),
    var(--bg);
  font-family:"Kantumruy Pro",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Serif Khmer",serif;
  line-height:1.65; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
a{ color:inherit; text-decoration:none }

/* Center the card on the page */
.wrap{
  min-height:100svh;
  display:grid; place-items:center;
  padding: var(--gutter);
}

/* ---------- The CARD that follows the background image ---------- */
.card{
  position:relative;
  width: min(100%, var(--max-card));
  aspect-ratio: var(--bg-w) / var(--bg-h); /* height follows image ratio */
  border-radius: var(--radius);
  overflow:hidden;
  box-shadow: var(--shadow);
  /* Background image covers the card */
  background-image: var(--card-bg);
  background-size: cover;
  background-position: center;
}
.card::after{ /* soft overlay for text contrast */
  content:""; position:absolute; inset:0; background: var(--overlay);
}

/* Content sits on top of the background */
.content{
  position:absolute; inset: clamp(14px, 3.6vw, 40px);
  display:grid; gap: clamp(8px, 2vw, 16px);
  place-items:center;
  text-align:center;
  z-index: 1;
  text-shadow: 0 1px 2px rgba(0,0,0,.35);
}

/* Typography (responsive with clamp) */
.eyebrow{ color:var(--muted); font-size:clamp(.9rem, 1.8vw, 1.05rem); letter-spacing:.06em; margin:0 }
.names{ font-family:"Cormorant Garamond","Noto Serif Khmer",serif; line-height:1.05 }
.names .en{ font-size: clamp(38px, 7vw, 84px); font-weight:700; letter-spacing:.04em }
.and{ font-size: clamp(26px, 5vw, 46px); color: color-mix(in oklab, var(--accent) 85%, var(--ink)); font-weight:600; }
.kh-caption{ font-family:"Moul",serif; font-weight:300; letter-spacing:.05em; font-size: clamp(16px, 3vw, 20px); margin-top:2px }
.inv{ font-family:"Suwannaphum",serif; font-weight:400; letter-spacing:.05em; font-size: clamp(16px, 3vw, 20px); margin-top:2px }
.divider{ height:1px; width: min(86%, 560px); background: linear-gradient(90deg, transparent, rgba(0,0,0,.28), transparent) }

.dateRow{
  display:grid; grid-auto-flow:column; align-items:center; justify-content:center;
  gap: clamp(12px, 2.8vw, 24px);
  font-family:"Cormorant Garamond","Noto Serif Khmer",serif; font-weight:700; letter-spacing:.06em;
}
.dateRow span{ font-size: clamp(20px, 3.6vw, 30px) }
.dateRow .bar{ width:1px; height:1.2em; background: linear-gradient(180deg, transparent, rgba(0,0,0,.28), transparent) }
.timeNote{ font-family:"Noto Serif Khmer",serif; font-size: clamp(13px, 2.6vw, 16px); color: var(--muted) }

/* Location (transparent, on background) */
.location{ margin-top: clamp(6px, 2vw, 10px); }
.location strong{ font-family:"Noto Serif Khmer",serif; display:block }
.location .sub{ margin-top: 2px }

.actions{ display:flex; gap: 10px; justify-content:center; margin-top:8px; flex-wrap:wrap }
.btn{
  display:inline-grid; place-items:center;
  height: 42px; padding: 0 14px;
  border-radius: 999px;
  border: 1px solid color-mix(in oklab, var(--accent) 65%, transparent);
  background: linear-gradient(180deg, color-mix(in oklab, var(--accent) 22%, transparent), transparent);
  color: var(--ink); font-weight: 600; cursor: pointer; box-shadow: var(--shadow);
}
.btn--ghost{ background: transparent; border-color: var(--stroke) }

/* Footer */
.footer{ text-align:center; color:var(--muted); padding: 10px 0 20px; font-size:.9rem }
</style>
</head>
<body>

<main class="wrap">
  <section class="card" id="card" aria-labelledby="title">
    <div class="content">
      <p class="eyebrow">ដោយសេចក្តីគោរព · With great pleasure</p>

      <div class="names" id="title">
        <div class="en" id="nameA">ម៉ើ ទិត្យ</div>
        <div class="and">&amp;</div>
        <div class="en" id="nameB">ប៉ុន​ រស្មី</div>
      </div>

      <p class="kh-caption">សិរីមង្គលពិធី<strong>ភ្ជាប់ពាក្យ</strong> </p>
      <p class="">សូមគោរពអញ្ជើញលោក/លោកស្រី <br>ជាភ្ញៀវកិត្តិយស</p>

      <div class="divider" role="presentation"></div>

      <div class="dateRow">
        <span id="dayKM">ថ្ងៃទី៣</span>
        <i class="bar" aria-hidden="true"></i>
        <span id="monthKM">ខែធ្នូ</span>
        <i class="bar" aria-hidden="true"></i>
        <span id="yearKM">២០២៥</span>
      </div>

      <p class="timeNote" id="timeNote">ពិធីចាប់ផ្តើមម៉ោង ៨:០០ ព្រឹក</p>

      <div class="location" role="group" aria-label="Location">
        <strong id="venueName">នៅគេហដ្ឋានខាងកូនក្រមុំ</strong>
        <div class="sub" id="venueAddr">ភូមិត្រមូង ឃុំត្រមូង ស្រុកមេមត់</div>
        <div class="actions">
          <a class="btn" id="mapsLink" href="https://maps.app.goo.gl/uRADJ6GzdFe14Vof9?g_st=ipc" target="_blank" rel="noopener">Open in Google Maps</a>
          <button class="btn btn--ghost" id="copyAddr">Copy address</button>
        </div>
      </div>
    </div>
  </section>
</main>

<footer class="footer">© <span id="year"></span> Tith & Raksmey</footer>

<script>
/* ========= EDIT THESE ========= */
const INVITE = {
  coupleEN: ["ម៉ើ ទិត្យ", "ប៉ុន​ រស្មី"],
  startISO: "2025-12-03T08:00:00+07:00", // Cambodia time
  venueName: "នៅគេហដ្ឋានខាងកូនក្រមុំ",
  venueAddress: "ភូមិត្រមូង ឃុំត្រមូង ស្រុកមេមត់",
  mapsURL: "https://maps.app.goo.gl/uRADJ6GzdFe14Vof9?g_st=ipc"
};
/* ============================= */

/* Khmer numerals/months */
const KM_DIGITS = ["០","១","២","៣","៤","៥","៦","៧","៨","៩"];
const KM_MONTHS = ["មករា","កុម្ភៈ","មីਨਾ","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"];
const toKm = n => String(n).replace(/\d/g, d => KM_DIGITS[+d]);

/* Fill content */
(() => {
  document.getElementById('nameA').textContent = INVITE.coupleEN[0].toUpperCase();
  document.getElementById('nameB').textContent = INVITE.coupleEN[1].toUpperCase();
  const d = new Date(INVITE.startISO);
  document.getElementById('monthKM').textContent = KM_MONTHS[d.getMonth()];
  document.getElementById('dayKM').textContent   = toKm(d.getDate());
  document.getElementById('yearKM').textContent  = toKm(d.getFullYear());
  const h=d.getHours(), m=d.getMinutes(), am=h<12, hh=((h+11)%12)+1, mm=String(m).padStart(2,"0");
  document.getElementById('timeNote').textContent = `ពិធីចាប់ផ្តើមម៉ោង ${toKm(hh)}:${toKm(mm)} ${am?'ព្រឹក':'ល្ងាច'}`;
  document.getElementById('venueName').textContent = INVITE.venueName;
  document.getElementById('venueAddr').textContent = INVITE.venueAddress;
  document.getElementById('mapsLink').href = INVITE.mapsURL;
  document.getElementById('year').textContent = new Date().getFullYear();
})();

/* Copy address */
document.getElementById('copyAddr').addEventListener('click', async ()=>{
  try{
    await navigator.clipboard.writeText(`${INVITE.venueName}, ${INVITE.venueAddress}`);
    const b=document.getElementById('copyAddr'); const t=b.textContent; b.textContent='Copied!'; setTimeout(()=>b.textContent=t,1200);
  }catch(e){ alert('Copy failed.'); }
});

/* Make the card's aspect-ratio follow the actual background image */
(function setRatioFromImage(){
  const root = document.documentElement;
  const raw = getComputedStyle(root).getPropertyValue('--card-bg').trim(); // e.g., url("assets/khmer-frame.jpg")
  const url = (raw.match(/url\((['"]?)(.*?)\1\)/) || [])[2];
  if(!url) return;
  const img = new Image();
  img.onload = () => {
    root.style.setProperty('--bg-w', img.naturalWidth);
    root.style.setProperty('--bg-h', img.naturalHeight);
    // Aspect-ratio updates automatically via CSS var
  };
  img.src = url;
})();
</script>
</body>
</html>
